---
title: "Rebuilding the Hopes Layout Shell"
slug: "rebuilding-the-hopes-layout-shell"
excerpt: "A look at how we reshaped the shared layout, navigation, and footer so every locale page feels cohesive again."
publishedAt: "2024-12-19"
locale: "en"
tags: ["Next.js", "Design System", "Layout"]
categories: ["Engineering"]
---

When we first unlocked the `/en` and `/zh` routes, the content rendered, but the page felt bare—no gradients, no framing, and the navigation floated on an island. This entry documents how we rebuilt the shared layout shell so every page once again feels like part of the same product.

## What we set out to fix

- The app shell no longer provided the soft gradients and separators that previously grounded each page.
- The header lacked active states, locale polish, and a compact way to swap languages on mobile.
- The footer still worked, but the copy was half hard-coded in Chinese and the structure dated back to our very first prototype.

## A new structural canvas

The locale layout at `app/[locale]/layout.tsx` now applies radial highlights and border treatments before rendering any page content:

```tsx
<div className="relative flex min-h-screen flex-col bg-background">
  <div aria-hidden className="pointer-events-none absolute inset-0 overflow-hidden">
    <div className="absolute left-1/2 top-[-220px] h-[420px] w-[760px] -translate-x-1/2  bg-primary/20 blur-3xl" />
    <div className="absolute bottom-[-260px] left-1/2 h-[460px] w-[820px] -translate-x-1/2  bg-secondary/25 blur-[140px]" />
  </div>
  <Header />
  <main className="relative isolate flex-1">
    <div className="relative z-10">{children}</div>
  </main>
  <Footer />
</div>
```

This keeps local pages lightweight (they still control their own `container` spacing) but restores the brand background we pair with the warm palette defined in `app/globals.css`.

## Navigation that reflects state

`components/layout/header.tsx` received the biggest facelift:

- Active links are highlighted with a pill-shaped chip that mirrors the primary color.
- Locale toggles now reuse the same chip pattern and show up in both desktop and mobile views.
- The mobile drawer inherits the same typography and spacing so it no longer feels bolted on.

The result is a consistent header whether you enter via `/blog`, `/about`, or the home hero.

## A footer worth scrolling to

The footer now uses translated section titles, a structured newsletter callout, and a tech stack capsule row. We added matching strings to `messages/en.json` and `messages/zh.json` so both locales share the same experience. The signup form doesn’t hit an API yet, but it communicates intent and can hook into Supabase when we’re ready.

## What’s next

With the shell back in place we can focus on interior details—category pages, dark mode, and Supabase-powered newsletter flows. If you spot any gaps in other routes, let me know so we can keep closing the loop.
