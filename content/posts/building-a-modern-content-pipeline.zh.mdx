---
title: "构建现代化内容发布流程"
slug: "building-a-modern-content-pipeline"
excerpt: "分享如何在 Hopes 博客中使用 MDX、自动化部署和数据库来构建高效的内容生产流程。"
coverImage: "/images/content-pipeline.svg"
publishedAt: "2024-02-15"
locale: "zh"
tags: ["内容管理", "MDX", "DevOps"]
categories: ["实践"]
---

## 为什么需要内容发布流程？

当文章数量逐渐增长时，简单的手工发布已经无法满足效率与质量的要求。一个现代化的内容发布流程应当具备：

1. **结构化内容**：使用 MDX 统一内容格式，支持组件复用。
2. **多语言支持**：通过 locale 目录结构保持中英文并行更新。
3. **自动化部署**：结合 CI/CD，在 Pull Request 合并后自动生成页面。
4. **可观测性**：接入日志和分析工具，了解阅读行为并持续优化。

## 内容源的组织方式

我们约定每篇文章使用 `slug.locale.mdx` 的命名方式，同时在 Frontmatter 中明确元数据。例如：

```mdx
---
title: "构建现代化内容发布流程"
slug: "building-a-modern-content-pipeline"
locale: "zh"
tags: ["内容管理", "MDX"]
---
```

这样做的好处是可以在服务端快速过滤出目标语言的文章，同时保持 URL 稳定。

## 自动化步骤

1. 作者提交 PR，自动运行 `pnpm lint` 与 `pnpm typecheck`。
2. 通过 GitHub Actions 调用 `pnpm build`，确保页面编译成功。
3. 部署后触发 Supabase Functions，更新站点地图与 RSS。

## 小结

借助标准化的流程，我们可以把更多时间投入到内容创作上，而不是重复的机械操作。
